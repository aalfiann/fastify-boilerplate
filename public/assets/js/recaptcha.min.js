"use strict";var _tokenCaptcha="",_recaptchaLoaded=!1;function _getScript(t,e){e=e||"";var a=document.createElement("script");a.src=t;var n=document.getElementsByTagName("head")[0],c=!1;a.onload=a.onreadystatechange=function(){c||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(c=!0,"function"==typeof e&&e(),a.onload=a.onreadystatechange=null,n.removeChild(a))},n.appendChild(a)}function _loadCaptcha(t,e){!1===_recaptchaLoaded&&_getScript("https://www.google.com/recaptcha/api.js?render="+t,function(){_recaptchaLoaded=!0,e&&"function"==typeof e&&e()})}function _getTokenCaptcha(t,e,a){grecaptcha.ready(function(){try{grecaptcha.execute(e,{action:t}).then(function(t){_tokenCaptcha=t,a&&"function"==typeof a&&a(null,t)})}catch(t){a(t,null)}})}function refreshCaptcha(t,e,a){_recaptchaLoaded?_getTokenCaptcha(t,e,a):_loadCaptcha(e,function(){_getTokenCaptcha(t,e,a)})}function verifyCaptcha(t,a){ajax().post(t+"/verify/captcha",{token:_tokenCaptcha}).then(function(t,e){a&&"function"==typeof a&&a(null,t)}).catch(function(t,e){a&&"function"==typeof a&&a(t.error)})}function hideBadge(){var t=document.createElement("link"),e=window.document.getElementsByTagName("head")[0];t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href","data:text/css;charset=UTF-8,"+encodeURIComponent(".grecaptcha-badge{visibility:hidden;}")),e.appendChild(t)}